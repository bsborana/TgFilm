<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cinema Loading Experience</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root {
            --primary: #e50914;
            --secondary: #221f1f;
            --accent: #f5f5f1;
            --text: #ffffff;
            --bg: #000000;
        }

        /* Loading spinner animation */
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Progress bar animation */
        @keyframes progress {
            0% { width: 0%; }
            100% { width: 100%; }
        }

        /* Skeleton shimmer effect */
        @keyframes shimmer {
            0% { background-position: -468px 0; }
            100% { background-position: 468px 0; }
        }

        /* Button pulse effect */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .skeleton {
            background: linear-gradient(to right, #2a2a2a 8%, #333 18%, #2a2a2a 33%);
            background-size: 800px 104px;
            animation: shimmer 1.5s infinite linear;
        }

        .loading-spinner {
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top: 4px solid var(--primary);
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }

        .progress-bar {
            height: 4px;
            background-color: var(--primary);
            animation: progress 600s linear forwards;
        }

        .pulse-effect {
            animation: pulse 0.5s ease;
        }

        /* Iframe transition */
        .iframe-transition {
            transition: all 0.3s ease-in-out;
        }

        /* Responsive heights */
        @media (max-width: 640px) {
            .iframe-maximized {
                height: 40vh;
            }
        }
        @media (min-width: 641px) and (max-width: 1024px) {
            .iframe-maximized {
                height: 45vh;
            }
        }
        @media (min-width: 1025px) {
            .iframe-maximized {
                height: 50vh;
            }
        }
    </style>
</head>
<body class="bg-black text-white font-sans">
    <!-- SECTION 1: Movie Loading Interface -->
    <div class="min-h-screen flex flex-col">
        <!-- Sticky top progress bar -->
        <div class="sticky top-0 left-0 right-0 z-50">
            <div class="progress-bar"></div>
        </div>

        <!-- Navigation -->
        <nav class="bg-black bg-opacity-90 px-4 py-3 sticky top-0 z-40">
            <div class="max-w-6xl mx-auto flex justify-between items-center">
                <h1 class="text-2xl font-bold text-red-600">Movie Link</h1>
                <div class="hidden md:flex space-x-6">
                    <a href="#" class="text-gray-300 hover:text-white">Movies</a>
                    <a href="#" class="text-gray-300 hover:text-white">Series</a>
                  
                </div>
                <button class="md:hidden text-white">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                    </svg>
                </button>
            </div>
        </nav>

        <!-- Hero Section -->
        <main class="flex-grow">
            <div class="max-w-6xl mx-auto px-4 py-8">
                <div class="flex flex-col md:flex-row gap-8">
                    <!-- Movie Poster -->
                    <div class="w-full md:w-1/3 lg:w-1/4">
                        <div class="bg-gradient-to-br from-gray-800 to-gray-900 rounded-lg aspect-[2/3] flex items-center justify-center">
                            <span class="text-gray-500">POSTER</span>
                        </div>
                    </div>

                    <!-- Movie Info -->
                    <div class="w-full md:w-2/3 lg:w-3/4">
                        <div class="flex flex-col gap-4">
                            <h1 class="text-3xl md:text-4xl font-bold">Watch Now....</h1>
                            <div class="flex flex-wrap gap-2 items-center">
                                <span class="bg-gray-800 px-2 py-1 rounded text-xs">HD</span>
                                <span class="bg-gray-800 px-2 py-1 rounded text-xs">1080p</span>
                                <span class="bg-gray-800 px-2 py-1 rounded text-xs">English</span>
                                <span class="bg-gray-800 px-2 py-1 rounded text-xs">Subtitles</span>
                                <div class="flex items-center ml-2">
                                    <span class="text-yellow-400">★★★★☆</span>
                                    <span class="text-sm ml-1">(4.2)</span>
                                </div>
                            </div>

                            <div class="flex flex-wrap gap-3 mt-2">
                                <button id="playBtn" class="bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded flex items-center gap-2">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd" />
                                    </svg>
                                    Play
                                </button>
                                <button class="bg-gray-800 hover:bg-gray-700 text-white px-4 py-2 rounded flex items-center gap-2">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                                        <path fill-rule="evenodd" d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z" clip-rule="evenodd" />
                                    </svg>
                                    Add to List
                                </button>
                            </div>

                            <div class="mt-4">
                                <h2 class="text-xl font-semibold mb-2">Synopsis</h2>
                                <p class="text-gray-300">
                                    In a world where secret agents are becoming obsolete, a retired operative is forced back into action when a mysterious protocol threatens global security. With cutting-edge technology and old-school tactics, he must uncover the truth before time runs out.
                                </p>
                            </div>

                            <div class="mt-4">
                                <h2 class="text-xl font-semibold mb-2">Tags</h2>
                                <div class="flex flex-wrap gap-2">
                                    <span class="bg-gray-800 px-3 py-1 rounded-full text-sm">Action</span>
                                    <span class="bg-gray-800 px-3 py-1 rounded-full text-sm">Thriller</span>
                                    <span class="bg-gray-800 px-3 py-1 rounded-full text-sm">Espionage</span>
                                    <span class="bg-gray-800 px-3 py-1 rounded-full text-sm">2023</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


              
                  
                  
                  <!-- Streaming demo post block -->
<div class="stream-demo">
  <style>
    .stream-demo {
      --bg: #1a1a1a;
      --panel: #111;
      --text: #eaeaea;
      --muted: #bdbdbd;
      --accent: #ff3b30; /* red played */
      --buffer: #ffffff; /* white buffered */
      --track: #555;     /* timeline base */
      --banner-start: #ff0000;
      --banner-end: #ff6600;
      max-width: 820px;
      margin: 0 auto;
      color: var(--text);
      font-family: inherit;
      line-height: 1.5;
      background: var(--bg);
      border-radius: 12px;
      box-shadow: 0 0 20px rgba(0,0,0,0.35);
      overflow: hidden;
    }

    .sd-viewport {
      position: relative;
      aspect-ratio: 16 / 9;
      background: #000;
      isolation: isolate;
    }

    .sd-viewport::before {
      content: "";
      position: absolute;
      inset: 0;
      background: url('https://images.unsplash.com/photo-1606813909357-7c5b3c7f3f3f?auto=format&fit=crop&w=1600&q=70') center/cover no-repeat;
      filter: blur(8px) saturate(1.1) brightness(0.75);
      transform: scale(1.05);
      z-index: 0;
    }

    .sd-overlay {
      position: absolute;
      inset: 0;
      background: linear-gradient(to bottom, rgba(0,0,0,0.35), rgba(0,0,0,0.55));
      display: grid;
      place-items: center;
      z-index: 1;
    }

    .sd-spinner {
      width: 64px;
      height: 64px;
      border-radius: 50%;
      border: 6px solid rgba(255,255,255,0.8);
      border-top-color: transparent;
      animation: sd-spin 0.9s linear infinite;
    }
    @keyframes sd-spin { to { transform: rotate(360deg); } }

    .sd-controls {
      background: var(--panel);
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px;
      border-top: 1px solid rgba(255,255,255,0.06);
      flex-wrap: wrap;
    }

    .sd-btn {
      background: none;
      border: none;
      color: var(--text);
      font-size: 18px;
      cursor: pointer;
      padding: 6px 8px;
      border-radius: 6px;
      transition: background 0.2s ease, transform 0.05s ease;
    }
    .sd-btn:active { transform: scale(0.98); }
    .sd-btn:hover { background: rgba(255,255,255,0.06); }

    .sd-timeline {
      flex: 1 1 360px;
      position: relative;
      height: 8px;
      background: var(--track);
      border-radius: 999px;
      overflow: visible;
    }

    .sd-buffered,
    .sd-played {
      position: absolute;
      left: 0;
      top: 0;
      height: 100%;
      width: 0%;
      border-radius: 999px;
      transition: width 0.18s linear;
    }
    .sd-buffered { background: var(--buffer); opacity: 0.95; }
    .sd-played { background: var(--accent); }

    .sd-thumb {
      position: absolute;
      top: 50%;
      transform: translate(-50%, -50%);
      width: 14px;
      height: 14px;
      background: var(--accent);
      border: 2px solid #fff;
      border-radius: 50%;
      box-shadow: 0 2px 6px rgba(0,0,0,0.35);
      left: 0%;
      cursor: pointer;
      transition: box-shadow 0.2s ease, transform 0.1s ease;
    }
    .sd-thumb:hover { box-shadow: 0 0 0 6px rgba(255,59,48,0.2); }
    .sd-timeline:hover .sd-thumb { transform: translate(-50%, -50%) scale(1.06); }

    .sd-time {
      color: var(--muted);
      font-size: 0.95rem;
      white-space: nowrap;
      margin-left: auto;
      padding: 0 4px;
    }

    .sd-banner {
      background: linear-gradient(90deg, var(--banner-start), var(--banner-end));
      color: #fff;
      text-align: center;
      font-weight: 700;
      letter-spacing: 0.3px;
      padding: 12px 14px;
      font-size: 1rem;
      animation: sd-pulse 1.5s infinite;
      border-top: 1px solid rgba(0,0,0,0.1);
    }
    @keyframes sd-pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }

    /* Touch targets and responsiveness */
    @media (max-width: 600px) {
      .sd-controls { gap: 10px; }
      .sd-thumb { width: 16px; height: 16px; }
      .sd-timeline { height: 10px; }
      .sd-time { font-size: 0.9rem; }
    }
  </style>

  <div class="sd-viewport" aria-label="Streaming preview">
    <div class="sd-overlay">
      <div class="sd-spinner" aria-hidden="true"></div>
    </div>
  </div>

  <div class="sd-controls" role="group" aria-label="Player controls">
    <button class="sd-btn" type="button" aria-label="Play or Pause">⏯️</button>

    <div class="sd-timeline" aria-label="Timeline">
      <div class="sd-buffered"></div>
      <div class="sd-played"></div>
      <div class="sd-thumb" role="slider" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0"></div>
    </div>

    <div class="sd-time" aria-live="polite">
      00:00:00 / 2:36:00
    </div>

    <button class="sd-btn" type="button" aria-label="Fullscreen">⛶</button>
  </div>

  <div class="sd-banner">
    ⏳ Please wait for loading to complete, then the server will connect.
  </div>

  <script>
    (function(){
      const container = document.currentScript.closest('.stream-demo');
      const bufferedBar = container.querySelector('.sd-buffered');
      const playedBar = container.querySelector('.sd-played');
      const thumb = container.querySelector('.sd-thumb');
      const timeEl = container.querySelector('.sd-time');
      const timeline = container.querySelector('.sd-timeline');

      // Total fake duration: 2h36m
      const totalDuration = (2 * 3600) + (36 * 60); // seconds = 9360
      const bufferTotalTime = 300; // seconds (5 minutes to fully "buffer")

      let bufferedPct = 0; // 0..100
      let playedPct = 0;   // 0..100
      let dragging = false;

      // Buffering over exactly 5 minutes
      const bufferStep = 100 / bufferTotalTime; // % per second
      const bufferTimer = setInterval(() => {
        bufferedPct = Math.min(100, bufferedPct + bufferStep);
        bufferedBar.style.width = bufferedPct + '%';
        if (bufferedPct >= 100) clearInterval(bufferTimer);
      }, 1000);

      // Fake playback: progresses but never exceeds buffered
      const playTimer = setInterval(() => {
        if (!dragging) {
          // Advance slowly to look realistic
          playedPct = Math.min(bufferedPct, playedPct + (100 / (totalDuration / 2))); // slower than real-time
          updateVisuals();
        }
      }, 1000);

      // Update time label and slider ARIA
      function updateVisuals() {
        playedBar.style.width = playedPct + '%';
        thumb.style.left = playedPct + '%';
        thumb.setAttribute('aria-valuenow', Math.round(playedPct));

        const currentSeconds = Math.floor((playedPct / 100) * totalDuration);
        timeEl.textContent = formatHMS(currentSeconds) + ' / ' + formatHMS(totalDuration);
      }

      function formatHMS(totalSec) {
        const h = Math.floor(totalSec / 3600);
        const m = Math.floor((totalSec % 3600) / 60);
        const s = Math.floor(totalSec % 60);
        return (
          String(h).padStart(2,'0') + ':' +
          String(m).padStart(2,'0') + ':' +
          String(s).padStart(2,'0')
        );
      }

      // Drag / seek behavior (limited by buffered)
      function pctFromClientX(clientX) {
        const rect = timeline.getBoundingClientRect();
        let pct = ((clientX - rect.left) / rect.width) * 100;
        pct = Math.max(0, Math.min(100, pct));
        // Cannot move beyond buffered amount
        return Math.min(pct, bufferedPct);
      }

      function startDrag(e) {
        dragging = true;
        const clientX = e.touches ? e.touches[0].clientX : e.clientX;
        playedPct = pctFromClientX(clientX);
        updateVisuals();
        document.addEventListener('mousemove', onDragMove);
        document.addEventListener('mouseup', endDrag);
        document.addEventListener('touchmove', onDragMove, {passive:false});
        document.addEventListener('touchend', endDrag);
      }

      function onDragMove(e) {
        if (!dragging) return;
        const clientX = e.touches ? e.touches[0].clientX : e.clientX;
        playedPct = pctFromClientX(clientX);
        updateVisuals();
        if (e.cancelable) e.preventDefault();
      }

      function endDrag() {
        dragging = false;
        document.removeEventListener('mousemove', onDragMove);
        document.removeEventListener('mouseup', endDrag);
        document.removeEventListener('touchmove', onDragMove);
        document.removeEventListener('touchend', endDrag);
      }

      // Listeners: grab on thumb or timeline
      thumb.addEventListener('mousedown', startDrag);
      thumb.addEventListener('touchstart', startDrag, {passive:false});
      timeline.addEventListener('mousedown', startDrag);
      timeline.addEventListener('touchstart', startDrag, {passive:false});

      // Initialize visuals
      updateVisuals();
    })();
  </script>
</div>
<!-- /Streaming demo post block -->
                  
                  
                  
                    
                    <div class="mt-8 w-full max-w-md">
                        <div class="flex justify-between mb-2">
                            <span class="text-sm text-gray-400">Server</span>
                            <select id="serverSelect" class="bg-gray-800 text-white rounded px-3 py-1 text-sm">
                                <option value="auto">Auto (Recommended)</option>
                                <option value="server1">Server-1 (US East)</option>
                                <option value="server2">Server-2 (EU West)</option>
                            </select>
                        </div>
                        <div class="flex justify-between mb-2">
                            <span class="text-sm text-gray-400">Quality</span>
                            <div class="flex gap-2">
                                <button class="bg-gray-800 px-3 py-1 rounded text-sm">480p</button>
                                <button class="bg-gray-700 px-3 py-1 rounded text-sm">720p</button>
                                <button class="bg-red-600 px-3 py-1 rounded text-sm">1080p</button>
                            </div>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-sm text-gray-400">Subtitles</span>
                            <label class="relative inline-flex items-center cursor-pointer">
                                <input type="checkbox" value="" class="sr-only peer" checked>
                                <div class="w-11 h-6 bg-gray-700 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-red-600"></div>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Recommended Section -->
                <div class="mt-16">
                    <h2 class="text-2xl font-bold mb-6">Recommended For You</h2>
                    <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4">
                        <!-- Skeleton cards -->
                        <div class="skeleton rounded-lg aspect-[2/3]"></div>
                        <div class="skeleton rounded-lg aspect-[2/3]"></div>
                        <div class="skeleton rounded-lg aspect-[2/3]"></div>
                        <div class="skeleton rounded-lg aspect-[2/3]"></div>
                        <div class="skeleton rounded-lg aspect-[2/3] hidden md:block"></div>
                    </div>
                </div>
            </div>
        </main>












<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Full-Screen Responsive Iframe</title>
  <style>
    /* Reset margins and make body fill the viewport */
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      width: 100%;
      overflow: hidden;
    }

    /* Full-screen wrapper */
    .responsive-iframe {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }

    /* Iframe fills its container */
    .responsive-iframe iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: none;
    }
  </style>
</head>
<body>
  <div class="responsive-iframe">
    <iframe
      data-src="https://tangiblearroganceride.com/kxc8gqz5n?key=7ff75c4e196e2515c070ae6675694b6b"
      loading="lazy"
      allowfullscreen
      frameborder="0">
    </iframe>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      var iframe = document.querySelector('.responsive-iframe iframe');

      if ('loading' in HTMLIFrameElement.prototype) {
        iframe.src = iframe.dataset.src;
      } else {
        var observer = new IntersectionObserver(function(entries, obs) {
          entries.forEach(function(entry) {
            if (entry.isIntersecting) {
              iframe.src = iframe.dataset.src;
              obs.unobserve(entry.target);
            }
          });
        });
        observer.observe(iframe);
      }
    });
  </script>
</body>
</html>











<!doctype html>
<html lang="hi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Sticky iframe — Minimal</title>
  <style>
    :root{ --bar-height:92px; --accent:#ffb400; --z:99999; }
    html,body{height:100%;margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;background:#fff;color:#111;}
    /* container fills page but no content shown */
    main{min-height:100vh;}

    /* Sticky window container */
    .sticky-window{
      position:fixed;
      left:12px;
      right:12px;
      bottom:12px;
      max-width:1320px;
      margin:0 auto;
      height:var(--bar-height);
      z-index:var(--z);
      transition:height .28s ease;
      pointer-events:auto;
    }

    .window-frame{
      border-radius:10px;
      overflow:visible;
      box-shadow:0 8px 28px rgba(0,0,0,0.4);
      background:linear-gradient(180deg,#0b0b0b,#050505);
      color:#fff;
      border:1px solid rgba(255,255,255,0.04);
      display:flex;
      flex-direction:column;
      height:100%;
    }

    .titlebar{
      display:flex;
      align-items:center;
      gap:10px;
      padding:8px 10px;
      background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
      user-select:none;
    }
    .title{ color:#eaeaea; font-size:13px; margin-right:auto; padding-left:6px; }

    .tbtn{
      width:36px;height:28px;border-radius:6px;border:0;background:rgba(255,255,255,0.04);color:#fff;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;
    }
    .tbtn.primary{ background:linear-gradient(90deg,var(--accent),#ff8a00); color:#111; font-weight:700; }
    .tbtn.small{ padding:6px 10px; border-radius:8px; width:auto; }

    .content{
      height: calc(var(--bar-height) - 44px);
      transition:height .28s ease, transform .20s ease, opacity .18s ease;
      position:relative;
      overflow:hidden;
      background:#000;
    }
    .ad-iframe{
      width:100%; height:100%; border:0; display:block; transform:translateY(0); transition:transform .28s ease, opacity .18s ease; will-change:transform,opacity;
    }

    /* Minimized state */
    .minimized{ height:44px !important; }
    .minimized .content{ height:0 !important; }
    .minimized .ad-iframe{ transform: translateY(-12px); opacity:0; pointer-events:none; }

    /* Maximized */
    .maximized{ height:420px !important; }
    .maximized .content{ height: calc(420px - 44px) !important; }
    @media (max-width:900px){
      .maximized{ height:72vh !important; max-height:92vh; }
      .maximized .content{ height: calc(72vh - 44px) !important; }
      :root{ --bar-height:86px; }
    }

    /* Mobile modal fallback */
    .modal{
      position:fixed; inset:0; background:rgba(0,0,0,0.85); z-index:calc(var(--z)+10);
      display:flex; align-items:center; justify-content:center; visibility:hidden; opacity:0; transition:opacity .18s ease;
    }
    .modal.open{ visibility:visible; opacity:1; }
    .modal-inner{ width:100%; max-width:1100px; height:88vh; background:#000; border-radius:10px; overflow:hidden; display:flex; flex-direction:column; }
    .modal-top{ padding:8px 10px; display:flex; align-items:center; justify-content:space-between; background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent); color:#fff; }
    .modal-iframe{ flex:1 1 auto; width:100%; border:0; }
  </style>
</head>
<body>
  <main></main>

  <!-- Sticky window (minimal, no extra page content) -->
  <div id="stickyWindow" class="sticky-window" aria-label="Sticky ad window">
    <div id="windowFrame" class="window-frame">
      <div class="titlebar">
        <div class="title">Advertisement</div>
        <button id="minBtn" class="tbtn" title="Minimize" aria-pressed="false">—</button>
        <button id="maxBtn" class="tbtn" title="Maximize" aria-pressed="false">▢</button>
        <button id="openBtn" class="tbtn primary" title="Open in window">Open</button>
      </div>

      <div id="content" class="content" aria-hidden="false">
        <iframe id="adIframe" class="ad-iframe" title="Ad content"
          sandbox="allow-scripts allow-same-origin allow-popups allow-forms"
          referrerpolicy="no-referrer"
          src="https://tangiblearroganceride.com/kxc8gqz5n?key=7ff75c4e196e2515c070ae6675694b6b"
        ></iframe>
      </div>
    </div>
  </div>

  <!-- Modal fallback -->
  <div id="modal" class="modal" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal-inner">
      <div class="modal-top">
        <div style="color:#fff">Advertisement</div>
        <div style="display:flex;gap:8px">
          <button id="modalMin" class="tbtn">Min</button>
          <button id="modalClose" class="tbtn">Close</button>
        </div>
      </div>
      <iframe id="modalIframe" class="modal-iframe"
        sandbox="allow-scripts allow-same-origin allow-popups allow-forms"
        referrerpolicy="no-referrer"
        src=""
      ></iframe>
    </div>
  </div>

  <script>
  (function(){
    'use strict';

    const AD_URL = 'https://tangiblearroganceride.com/kxc8gqz5n?key=7ff75c4e196e2515c070ae6675694b6b';
    const RELOAD_MS = 90_000;
    const MOBILE_FALLBACK_TIMEOUT = 3000;

    const stickyWindow = document.getElementById('stickyWindow');
    const windowFrame = document.getElementById('windowFrame');
    const minBtn = document.getElementById('minBtn');
    const maxBtn = document.getElementById('maxBtn');
    const openBtn = document.getElementById('openBtn');
    const content = document.getElementById('content');
    const adIframe = document.getElementById('adIframe');

    const modal = document.getElementById('modal');
    const modalIframe = document.getElementById('modalIframe');
    const modalClose = document.getElementById('modalClose');
    const modalMin = document.getElementById('modalMin');

    let isMinimized = false;
    let isMaximized = false;
    let externalWin = null;
    let reloadTimer = null;
    let iframeLoaded = false;

    function isMobile(){ return /Mobi|Android|iPhone|iPad|iPod|Mobile/i.test(navigator.userAgent); }

    function startReload(){
      stopReload();
      reloadTimer = setInterval(() => {
        try {
          const cur = adIframe.src || AD_URL;
          const u = new URL(cur, location.href);
          u.searchParams.set('_ts', Date.now());
          adIframe.src = u.toString();
        } catch(e){
          adIframe.src = AD_URL + (AD_URL.includes('?') ? '&' : '?') + '_ts=' + Date.now();
        }
        if(modal.classList.contains('open')){
          try {
            const mcur = modalIframe.src || AD_URL;
            const mu = new URL(mcur, location.href);
            mu.searchParams.set('_ts', Date.now());
            modalIframe.src = mu.toString();
          } catch(e){
            modalIframe.src = AD_URL + (AD_URL.includes('?') ? '&' : '?') + '_ts=' + Date.now();
          }
        }
      }, RELOAD_MS);
    }
    function stopReload(){ if(reloadTimer){ clearInterval(reloadTimer); reloadTimer = null; } }

    startReload();

    adIframe.addEventListener('load', ()=> { iframeLoaded = true; });

    setTimeout(()=> {
      if(!iframeLoaded && isMobile()){
        modalIframe.src = AD_URL;
      }
    }, MOBILE_FALLBACK_TIMEOUT);

    // Minimize toggle
    minBtn.addEventListener('click', () => {
      isMinimized = !isMinimized;
      if(isMinimized){
        windowFrame.classList.add('minimized');
        minBtn.setAttribute('aria-pressed','true');
      } else {
        windowFrame.classList.remove('minimized');
        minBtn.setAttribute('aria-pressed','false');
      }
    });

    // Maximize toggle
    maxBtn.addEventListener('click', () => {
      isMaximized = !isMaximized;
      if(isMaximized){
        stickyWindow.classList.add('maximized');
        maxBtn.setAttribute('aria-pressed','true');
      } else {
        stickyWindow.classList.remove('maximized');
        maxBtn.setAttribute('aria-pressed','false');
      }
    });

    // Open: desktop window toggle; mobile modal
    openBtn.addEventListener('click', () => {
      if(!isMobile()){
        const name = 'stickyAd_app_v1';
        if(!externalWin || externalWin.closed){
          externalWin = window.open(AD_URL, name, 'noopener,noreferrer,toolbar=yes,scrollbars=yes,resizable=yes,width=980,height=700');
          openBtn.textContent = 'Opened';
          openBtn.setAttribute('aria-pressed','true');
          const poll = setInterval(()=> {
            if(!externalWin || externalWin.closed){
              clearInterval(poll);
              externalWin = null;
              openBtn.textContent = 'Open';
              openBtn.setAttribute('aria-pressed','false');
            }
          },700);
        } else {
          try { externalWin.close(); } catch(e){}
          externalWin = null;
          openBtn.textContent = 'Open';
          openBtn.setAttribute('aria-pressed','false');
        }
      } else {
        modal.classList.add('open');
        modal.setAttribute('aria-hidden','false');
        if(!modalIframe.src) modalIframe.src = AD_URL;
      }
    });

    // Modal controls
    modalClose.addEventListener('click', ()=> {
      modal.classList.remove('open');
      modal.setAttribute('aria-hidden','true');
    });
    modalMin.addEventListener('click', ()=> {
      modal.classList.remove('open');
      modal.setAttribute('aria-hidden','true');
      if(!isMinimized){
        isMinimized = true;
        windowFrame.classList.add('minimized');
        minBtn.setAttribute('aria-pressed','true');
      }
    });
    modal.addEventListener('click', (ev)=> { if(ev.target === modal){ modal.classList.remove('open'); modal.setAttribute('aria-hidden','true'); } });

    // ESC behavior
    document.addEventListener('keydown', (e)=> {
      if(e.key === 'Escape'){
        if(modal.classList.contains('open')){
          modal.classList.remove('open');
          modal.setAttribute('aria-hidden','true');
        } else if(externalWin && !externalWin.closed){
          try { externalWin.close(); } catch(e){}
          externalWin = null;
          openBtn.textContent = 'Open';
          openBtn.setAttribute('aria-pressed','false');
        } else if(stickyWindow.classList.contains('maximized')){
          stickyWindow.classList.remove('maximized');
          maxBtn.setAttribute('aria-pressed','false');
        }
      }
    });

    window.addEventListener('beforeunload', ()=> { try { if(externalWin && !externalWin.closed) externalWin.close(); } catch(e){} });

    window.StickyAd = {
      minimize(){ if(!isMinimized) minBtn.click(); },
      restore(){ if(isMinimized) minBtn.click(); },
      maximize(){ if(!isMaximized) maxBtn.click(); },
      unmaximize(){ if(isMaximized) maxBtn.click(); },
      openExternal(){ openBtn.click(); },
      forceReload(){ try { const u = new URL(adIframe.src || AD_URL, location.href); u.searchParams.set('_ts', Date.now()); adIframe.src = u.toString(); } catch(e){ adIframe.src = AD_URL + (AD_URL.includes('?') ? '&' : '?') + '_ts=' + Date.now(); } }
    };

  })();
  </script>
</body>
</html>
